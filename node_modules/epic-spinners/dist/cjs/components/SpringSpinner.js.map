{"version":3,"file":"SpringSpinner.js","sources":["../../../src/components/SpringSpinner.vue"],"sourcesContent":["<template>\n  <div class=\"spring-spinner\" :style=\"spinnerStyle\">\n    <div class=\"spring-spinner-part top\" :style=\"spinnerPartStyle\">\n      <div class=\"spring-spinner-rotator\" :style=\"rotatorStyle\" />\n    </div>\n    <div class=\"spring-spinner-part bottom\" :style=\"spinnerPartStyle\">\n      <div class=\"spring-spinner-rotator\" :style=\"rotatorStyle\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport utils from '../services/utils'\n\nexport default {\n  name: 'SpringSpinner',\n\n  props: {\n    animationDuration: {\n      type: Number,\n      default: 3000,\n    },\n    size: {\n      type: Number,\n      default: 70,\n    },\n    color: {\n      type: String,\n      default: '#fff',\n    },\n  },\n\n  data() {\n    return {\n      animationName: `spring-spinner-animation-${Date.now()}`,\n    }\n  },\n\n  computed: {\n    spinnerStyle() {\n      return {\n        height: `${this.size}px`,\n        width: `${this.size}px`,\n      }\n    },\n\n    spinnerPartStyle() {\n      return {\n        height: `${this.size / 2}px`,\n        width: `${this.size}px`,\n      }\n    },\n\n    rotatorStyle() {\n      return {\n        height: `${this.size}px`,\n        width: `${this.size}px`,\n        borderRightColor: this.color,\n        borderTopColor: this.color,\n        borderWidth: `${this.size / 7}px`,\n        animationDuration: `${this.animationDuration}ms`,\n        animationName: this.animationName,\n      }\n    },\n  },\n\n  watch: {\n    size: {\n      handler: 'updateAnimation',\n      immediate: true,\n    },\n    color: {\n      handler: 'updateAnimation',\n      immediate: true,\n    },\n  },\n\n  mounted() {\n    this.updateAnimation()\n  },\n\n  beforeUnmount() {\n    utils.removeKeyframes(this.animationName)\n  },\n\n  methods: {\n    updateAnimation() {\n      utils.removeKeyframes(this.animationName)\n      utils.appendKeyframes(this.animationName, this.generateKeyframes())\n    },\n\n    generateKeyframes() {\n      return `\n        0% {\n          border-width: ${this.size / 7}px;\n        }\n        25% {\n          border-width: ${this.size / 23.33}px;\n        }\n        50% {\n          transform: rotate(115deg);\n          border-width: ${this.size / 7}px;\n        }\n        75% {\n          border-width: ${this.size / 23.33}px;\n          }\n        100% {\n          border-width: ${this.size / 7}px;\n        }`\n    },\n  },\n}\n</script>\n\n<style lang=\"css\">\n.spring-spinner,\n.spring-spinner * {\n  box-sizing: border-box;\n}\n\n.spring-spinner {\n  height: 60px;\n  width: 60px;\n}\n\n.spring-spinner .spring-spinner-part {\n  overflow: hidden;\n  height: calc(60px / 2);\n  width: 60px;\n}\n\n.spring-spinner .spring-spinner-part.bottom {\n  transform: rotate(180deg) scale(-1, 1);\n}\n\n.spring-spinner .spring-spinner-rotator {\n  width: 60px;\n  height: 60px;\n  border: calc(60px / 7) solid transparent;\n  border-right-color: #ff1d5e;\n  border-top-color: #ff1d5e;\n  border-radius: 50%;\n  box-sizing: border-box;\n  animation: spring-spinner-animation 3s ease-in-out infinite;\n  transform: rotate(-200deg);\n}\n\n/* NOTE Keyframes here serve as reference. They don't do anything. */\n@keyframes spring-spinner-animation {\n  0% {\n    border-width: calc(60px / 7);\n  }\n  25% {\n    border-width: calc(60px / 23.33);\n  }\n  50% {\n    transform: rotate(115deg);\n    border-width: calc(60px / 7);\n  }\n  75% {\n    border-width: calc(60px / 23.33);\n  }\n  100% {\n    border-width: calc(60px / 7);\n  }\n}\n</style>\n"],"names":["_sfc_main","utils","_createElementBlock","$options","_createElementVNode"],"mappings":"gHAcA,MAAKA,EAAU,CACb,KAAM,gBAEN,MAAO,CACL,kBAAmB,CACjB,KAAM,OACN,QAAS,GACV,EACD,KAAM,CACJ,KAAM,OACN,QAAS,EACV,EACD,MAAO,CACL,KAAM,OACN,QAAS,MACV,CACF,EAED,MAAO,CACL,MAAO,CACL,cAAe,4BAA4B,KAAK,IAAK,GACvD,CACD,EAED,SAAU,CACR,cAAe,CACb,MAAO,CACL,OAAQ,GAAG,KAAK,SAChB,MAAO,GAAG,KAAK,QACjB,CACD,EAED,kBAAmB,CACjB,MAAO,CACL,OAAQ,GAAG,KAAK,KAAO,MACvB,MAAO,GAAG,KAAK,QACjB,CACD,EAED,cAAe,CACb,MAAO,CACL,OAAQ,GAAG,KAAK,SAChB,MAAO,GAAG,KAAK,SACf,iBAAkB,KAAK,MACvB,eAAgB,KAAK,MACrB,YAAa,GAAG,KAAK,KAAO,MAC5B,kBAAmB,GAAG,KAAK,sBAC3B,cAAe,KAAK,aACtB,CACD,CACF,EAED,MAAO,CACL,KAAM,CACJ,QAAS,kBACT,UAAW,EACZ,EACD,MAAO,CACL,QAAS,kBACT,UAAW,EACZ,CACF,EAED,SAAU,CACR,KAAK,gBAAgB,CACtB,EAED,eAAgB,CACdC,QAAM,gBAAgB,KAAK,aAAa,CACzC,EAED,QAAS,CACP,iBAAkB,CAChBA,QAAM,gBAAgB,KAAK,aAAa,EACxCA,EAAK,MAAC,gBAAgB,KAAK,cAAe,KAAK,kBAAiB,CAAE,CACnE,EAED,mBAAoB,CAClB,MAAO;AAAA;AAAA,0BAEa,KAAK,KAAO;AAAA;AAAA;AAAA,0BAGZ,KAAK,KAAO;AAAA;AAAA;AAAA;AAAA,0BAIZ,KAAK,KAAO;AAAA;AAAA;AAAA,0BAGZ,KAAK,KAAO;AAAA;AAAA;AAAA,0BAGZ,KAAK,KAAO;AAAA,UAEjC,CACF,CACH,+CA9GEC,EAOM,mBAAA,MAAA,CAPD,MAAM,iBAAkB,uBAAOC,EAAY,YAAA,IAC9CC,EAAAA,mBAEM,MAAA,CAFD,MAAM,0BAA2B,uBAAOD,EAAgB,gBAAA,IAC3DC,EAAAA,mBAA4D,MAAA,CAAvD,MAAM,yBAA0B,uBAAOD,EAAY,YAAA,eAE1DC,EAAAA,mBAEM,MAAA,CAFD,MAAM,6BAA8B,uBAAOD,EAAgB,gBAAA,IAC9DC,EAAAA,mBAA4D,MAAA,CAAvD,MAAM,yBAA0B,uBAAOD,EAAY,YAAA"}