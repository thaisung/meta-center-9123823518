{"version":3,"file":"FlowerSpinner.js","sources":["../../../src/components/FlowerSpinner.vue"],"sourcesContent":["<template>\n  <div class=\"flower-spinner\" :style=\"spinnerStyle\">\n    <div class=\"dots-container\" :style=\"dotsContainerStyle\">\n      <div class=\"big-dot\" :style=\"biggerDotStyle\">\n        <div class=\"small-dot\" :style=\"smallerDotStyle\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport utils from '../services/utils'\n\nexport default {\n  name: 'FlowerSpinner',\n\n  props: {\n    animationDuration: {\n      type: Number,\n      default: 2500,\n    },\n    size: {\n      type: Number,\n      default: 70,\n    },\n    color: {\n      type: String,\n      default: '#fff',\n    },\n  },\n\n  data() {\n    return {\n      smallDotName: `flower-spinner-small-dot-${Date.now()}`,\n      bigDotName: `flower-spinner-big-dot-${Date.now()}`,\n    }\n  },\n\n  computed: {\n    dotSize() {\n      return this.size / 7\n    },\n\n    spinnerStyle() {\n      return {\n        width: `${this.size}px`,\n        height: `${this.size}px`,\n      }\n    },\n\n    dotsContainerStyle() {\n      return {\n        width: `${this.dotSize}px`,\n        height: `${this.dotSize}px`,\n      }\n    },\n\n    smallerDotStyle() {\n      return {\n        background: this.color,\n        animationDuration: `${this.animationDuration}ms`,\n        animationName: this.smallDotName,\n      }\n    },\n\n    biggerDotStyle() {\n      return {\n        background: this.color,\n        animationDuration: `${this.animationDuration}ms`,\n        animationName: this.bigDotName,\n      }\n    },\n  },\n\n  watch: {\n    size: {\n      handler: 'updateAnimation',\n      immediate: true,\n    },\n    color: {\n      handler: 'updateAnimation',\n      immediate: true,\n    },\n  },\n\n  beforeUnmount() {\n    utils.removeKeyframes(this.smallDotName)\n    utils.removeKeyframes(this.bigDotName)\n  },\n\n  methods: {\n    updateAnimation() {\n      utils.removeKeyframes(this.smallDotName)\n      utils.appendKeyframes(this.smallDotName, this.generateSmallDotKeyframes())\n      utils.removeKeyframes(this.bigDotName)\n      utils.appendKeyframes(this.bigDotName, this.generateBigDotKeyframes())\n    },\n\n    generateSmallDotKeyframes() {\n      return `\n        0%, 100% {\n          box-shadow: 0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color};\n        }\n        25%, 75% {\n          box-shadow: ${this.dotSize * 1.4}px 0 0 ${this.color},\n                      -${this.dotSize * 1.4}px 0 0 ${this.color},\n                      0 ${this.dotSize * 1.4}px 0 ${this.color},\n                      0 -${this.dotSize * 1.4}px 0 ${this.color},\n                      ${this.dotSize}px -${this.dotSize}px 0 ${this.color},\n                      ${this.dotSize}px ${this.dotSize}px 0 ${this.color},\n                      -${this.dotSize}px -${this.dotSize}px 0 ${this.color},\n                      -${this.dotSize}px ${this.dotSize}px 0 ${this.color};\n        }\n        100% {\n          box-shadow: 0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color};\n        }`\n    },\n\n    generateBigDotKeyframes() {\n      return `\n        0%, 100% {\n          box-shadow: 0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color};\n        }\n        50% {\n          transform: rotate(180deg);\n        }\n        25%, 75% {\n          box-shadow: ${this.dotSize * 2.6}px 0 0 ${this.color},\n                      -${this.dotSize * 2.6}px 0 0 ${this.color},\n                      0 ${this.dotSize * 2.6}px 0 ${this.color},\n                      0 -${this.dotSize * 2.6}px 0 ${this.color},\n                      ${this.dotSize * 1.9}px -${this.dotSize * 1.9}px 0 ${this.color},\n                      ${this.dotSize * 1.9}px ${this.dotSize * 1.9}px 0 ${this.color},\n                      -${this.dotSize * 1.9}px -${this.dotSize * 1.9}px 0 ${this.color},\n                      -${this.dotSize * 1.9}px ${this.dotSize * 1.9}px 0 ${this.color};\n        }\n        100% {\n          transform: rotate(360deg);\n          box-shadow: 0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color},\n                      0 0 0 ${this.color};\n        }`\n    },\n  },\n}\n</script>\n\n<style lang=\"css\">\n.flower-spinner,\n.flower-spinner * {\n  box-sizing: border-box;\n}\n\n.flower-spinner {\n  height: 70px;\n  width: 70px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n\n.flower-spinner .dots-container {\n  height: calc(70px / 7);\n  width: calc(70px / 7);\n}\n\n.flower-spinner .small-dot {\n  background: #ff1d5e;\n  height: 100%;\n  width: 100%;\n  border-radius: 50%;\n  animation: flower-spinner-small-dot-animation 2.5s 0s infinite both;\n}\n\n.flower-spinner .big-dot {\n  background: #ff1d5e;\n  height: 100%;\n  width: 100%;\n  padding: 10%;\n  border-radius: 50%;\n  animation: flower-spinner-big-dot-animation 2.5s 0s infinite both;\n}\n\n/* NOTE Keyframes here serve as reference. They don't do anything. */\n@keyframes flower-spinner-big-dot-animation {\n  0% {\n    box-shadow: rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0,\n      rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0,\n      rgb(255, 29, 94) 0 0 0;\n  }\n\n  50% {\n    transform: rotate(180deg);\n  }\n\n  25%,\n  75% {\n    box-shadow: rgb(255, 29, 94) 26px 0 0, rgb(255, 29, 94) -26px 0 0, rgb(255, 29, 94) 0 26px 0,\n      rgb(255, 29, 94) 0 -26px 0, rgb(255, 29, 94) 19px -19px 0, rgb(255, 29, 94) 19px 19px 0,\n      rgb(255, 29, 94) -19px -19px 0, rgb(255, 29, 94) -19px 19px 0;\n  }\n\n  100% {\n    transform: rotate(360deg);\n    box-shadow: rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0,\n      rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0,\n      rgb(255, 29, 94) 0 0 0;\n  }\n}\n\n@keyframes flower-spinner-small-dot-animation {\n  0%,\n  100% {\n    box-shadow: rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0,\n      rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0, rgb(255, 29, 94) 0 0 0,\n      rgb(255, 29, 94) 0 0 0;\n  }\n\n  25%,\n  75% {\n    box-shadow: rgb(255, 29, 94) 14px 0 0, rgb(255, 29, 94) -14px 0 0, rgb(255, 29, 94) 0 14px 0,\n      rgb(255, 29, 94) 0 -14px 0, rgb(255, 29, 94) 10px -10px 0, rgb(255, 29, 94) 10px 10px 0,\n      rgb(255, 29, 94) -10px -10px 0, rgb(255, 29, 94) -10px 10px 0;\n  }\n}\n</style>\n"],"names":["_sfc_main","utils","_createElementBlock","$options","_createElementVNode"],"mappings":"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"}